# Le code minimal d'un projet Qt

``` c++
#include <QApplication>
 
int main(int argc, char *argv[])
{
    QApplication app(argc, argv);
 
    return app.exec();
}
```

## Explication

``` c++
#include <QApplication>
```

C'est le seul include dont vous avez besoin au départ. Vous pouvez oublier iostreamet compagnie, avec Qt on ne s'en sert plus.

Cet include vous permet d'accéder à la classe QApplication, qui est la classe de base de tout programme Qt.

``` c++
QApplication app(argc, argv);
```

La première ligne du ```main()``` crée un nouvel objet de type ```QApplication```.

Le constructeur de ```QApplication``` exige que vous lui passiez les arguments du programme, c'est-à-dire les paramètres argc et argv que reçoit la fonction main. Cela permet de démarrer le programme avec certaines options précises, mais on ne s'en servira pas ici.

### Lancement de l'application

``` c++
return app.exec();
```

Cette ligne fait 2 choses :

* Elle appelle la méthode exec de notre objet app. Cette méthode démarre notre programme et lance donc l'affichage des fenêtres. Si vous ne le faites pas, il ne se passera rien.

* Elle renvoie le résultat de app.exec()pour dire si le programme s'est bien déroulé ou pas. Le return provoque la fin de la fonction main, donc du programme.

## Affichage d'un widget

Dans la plupart des bibliothèques GUI, dont Qt fait partie, tous les éléments d'une fenêtre sont appelés des widgets. Les boutons, les cases à cocher, les images… tout cela, ce sont des widgets. La fenêtre elle-même est considérée comme un widget.

Pour provoquer l'affichage d'une fenêtre, il suffit de demander à afficher n'importe quel widget. Ici par exemple, nous allons afficher un bouton.

``` c++
#include <QApplication>
#include <QPushButton>
 
int main(int argc, char *argv[])
{
    QApplication app(argc, argv);
 
    QPushButton bouton("Hello World !!!");
    bouton.show();
 
    return app.exec();
}
```

Dans cet exemple on a incorporé l'instruction :

``` c++
#include <QPushButton>
```

Cette ligne vous permet de créer des objets de typeQPushButton, c'est-à-dire des boutons (vous noterez d'ailleurs que, dans Qt, toutes les classes commencent par un « Q » !).

Le fait de créer un bouton ne suffit pas pour qu'il soit affiché. Il faut appeler sa méthode ```show()```

Cette ligne commande l'affichage d'un bouton. Comme un bouton ne peut pas « flotter » comme cela sur votre écran, Qt l'insère automatiquement dans une fenêtre. On a en quelque sorte créé une « fenêtre-bouton ».

Bien entendu, dans un vrai programme plus complexe, on crée d'abord une fenêtre et on y insère ensuite plusieurs widgets, mais là nous n'en sommes qu'au commencement.

![Hello World Qt!](qt_hello_world.png)
